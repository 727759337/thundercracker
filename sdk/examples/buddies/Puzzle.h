/* -*- mode: C; c-basic-offset: 4; intent-tabs-mode: nil -*-
 *
 * Copyright <c> 2012 Sifteo, Inc. All rights reserved.
 */
 
////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////

#ifndef BUDDIES_PUZZLE_H_
#define BUDDIES_PUZZLE_H_

////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////

#include <sifteo/cube.h>
#include "Config.h"
#include "Piece.h"

////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////

namespace Buddies {

////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////

class Puzzle
{
public:
    Puzzle(
        const char *chapterTitle,
        const char cutsceneTextStart[][32], unsigned int numCutsceneTextStart,
        const char cutsceneTextEnd[][32], unsigned int numCutsceneTextEnd,
        const char *clue,
        const unsigned int buddies[], unsigned int numBuddies,
        unsigned int numShuffles,
        const Piece startState[kMaxBuddies][NUM_SIDES],
        const Piece endState[kMaxBuddies][NUM_SIDES]);
    
    const char *GetChapterTitle() const;
    
    unsigned int GetNumCutsceneTextStart() const;
    const char *GetCutsceneTextStart(unsigned int cutsceneIndex) const;
    
    unsigned int GetNumCutsceneTextEnd() const;
    const char *GetCutsceneTextEnd(unsigned int cutsceneIndex) const;
    
    const char *GetClue() const;
    
    unsigned int GetBuddy(unsigned int buddyIndex) const;
    unsigned int GetNumBuddies() const;
    
    unsigned int GetNumShuffles() const;
    
    const Piece &GetStartState(unsigned int buddy, Sifteo::Cube::Side side) const;
    const Piece &GetEndState(unsigned int buddy, Sifteo::Cube::Side side) const;
    
private:
    const char *mChapterTitle;
    const char *mCutsceneTextStart[16];
    unsigned int mNumCutsceneTextStart;
    const char *mCutsceneTextEnd[16];
    unsigned int mNumCutsceneTextEnd;
    const char *mClue;
    unsigned int mBuddies[kMaxBuddies];
    unsigned int mNumBuddies;
    unsigned int mNumShuffles;
    Piece mStartState[kMaxBuddies][NUM_SIDES];
    Piece mEndState[kMaxBuddies][NUM_SIDES];    
};

////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////

}

////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////

#endif

////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////
