static const int AudioLimitSteps = 256;
static const int AudioLimitMaxPeak = 8;
static const uint16_t AudioLimitTable[] = {
    /* Step 0x0000, peak = 0.0000, limit = 1.0000 */ 65535,
    /* Step 0x0001, peak = 0.0312, limit = 1.0000 */ 65535,
    /* Step 0x0002, peak = 0.0625, limit = 1.0000 */ 65535,
    /* Step 0x0003, peak = 0.0938, limit = 1.0000 */ 65535,
    /* Step 0x0004, peak = 0.1250, limit = 1.0000 */ 65535,
    /* Step 0x0005, peak = 0.1562, limit = 1.0000 */ 65535,
    /* Step 0x0006, peak = 0.1875, limit = 1.0000 */ 65535,
    /* Step 0x0007, peak = 0.2188, limit = 1.0000 */ 65535,
    /* Step 0x0008, peak = 0.2500, limit = 1.0000 */ 65535,
    /* Step 0x0009, peak = 0.2812, limit = 1.0000 */ 65535,
    /* Step 0x000a, peak = 0.3125, limit = 1.0000 */ 65535,
    /* Step 0x000b, peak = 0.3438, limit = 1.0000 */ 65535,
    /* Step 0x000c, peak = 0.3750, limit = 1.0000 */ 65535,
    /* Step 0x000d, peak = 0.4062, limit = 1.0000 */ 65535,
    /* Step 0x000e, peak = 0.4375, limit = 1.0000 */ 65535,
    /* Step 0x000f, peak = 0.4688, limit = 1.0000 */ 65535,
    /* Step 0x0010, peak = 0.5000, limit = 1.0000 */ 65535,
    /* Step 0x0011, peak = 0.5312, limit = 1.0000 */ 65535,
    /* Step 0x0012, peak = 0.5625, limit = 1.0000 */ 65535,
    /* Step 0x0013, peak = 0.5938, limit = 1.0000 */ 65535,
    /* Step 0x0014, peak = 0.6250, limit = 1.0000 */ 65534,
    /* Step 0x0015, peak = 0.6562, limit = 1.0000 */ 65532,
    /* Step 0x0016, peak = 0.6875, limit = 0.9999 */ 65526,
    /* Step 0x0017, peak = 0.7188, limit = 0.9997 */ 65512,
    /* Step 0x0018, peak = 0.7500, limit = 0.9992 */ 65480,
    /* Step 0x0019, peak = 0.7812, limit = 0.9982 */ 65414,
    /* Step 0x001a, peak = 0.8125, limit = 0.9962 */ 65288,
    /* Step 0x001b, peak = 0.8438, limit = 0.9929 */ 65068,
    /* Step 0x001c, peak = 0.8750, limit = 0.9874 */ 64712,
    /* Step 0x001d, peak = 0.9062, limit = 0.9794 */ 64182,
    /* Step 0x001e, peak = 0.9375, limit = 0.9682 */ 63448,
    /* Step 0x001f, peak = 0.9688, limit = 0.9537 */ 62502,
    /* Step 0x0020, peak = 1.0000, limit = 0.9362 */ 61357,
    /* Step 0x0021, peak = 1.0312, limit = 0.9163 */ 60050,
    /* Step 0x0022, peak = 1.0625, limit = 0.8947 */ 58632,
    /* Step 0x0023, peak = 1.0938, limit = 0.8721 */ 57155,
    /* Step 0x0024, peak = 1.1250, limit = 0.8494 */ 55667,
    /* Step 0x0025, peak = 1.1562, limit = 0.8271 */ 54204,
    /* Step 0x0026, peak = 1.1875, limit = 0.8055 */ 52786,
    /* Step 0x0027, peak = 1.2188, limit = 0.7847 */ 51426,
    /* Step 0x0028, peak = 1.2500, limit = 0.7649 */ 50129,
    /* Step 0x0029, peak = 1.2812, limit = 0.7461 */ 48892,
    /* Step 0x002a, peak = 1.3125, limit = 0.7281 */ 47715,
    /* Step 0x002b, peak = 1.3438, limit = 0.7110 */ 46592,
    /* Step 0x002c, peak = 1.3750, limit = 0.6946 */ 45522,
    /* Step 0x002d, peak = 1.4062, limit = 0.6790 */ 44500,
    /* Step 0x002e, peak = 1.4375, limit = 0.6641 */ 43522,
    /* Step 0x002f, peak = 1.4688, limit = 0.6498 */ 42588,
    /* Step 0x0030, peak = 1.5000, limit = 0.6362 */ 41692,
    /* Step 0x0031, peak = 1.5312, limit = 0.6231 */ 40834,
    /* Step 0x0032, peak = 1.5625, limit = 0.6105 */ 40010,
    /* Step 0x0033, peak = 1.5938, limit = 0.5985 */ 39219,
    /* Step 0x0034, peak = 1.6250, limit = 0.5869 */ 38459,
    /* Step 0x0035, peak = 1.6562, limit = 0.5757 */ 37728,
    /* Step 0x0036, peak = 1.6875, limit = 0.5650 */ 37024,
    /* Step 0x0037, peak = 1.7188, limit = 0.5546 */ 36346,
    /* Step 0x0038, peak = 1.7500, limit = 0.5446 */ 35693,
    /* Step 0x0039, peak = 1.7812, limit = 0.5350 */ 35063,
    /* Step 0x003a, peak = 1.8125, limit = 0.5257 */ 34454,
    /* Step 0x003b, peak = 1.8438, limit = 0.5168 */ 33867,
    /* Step 0x003c, peak = 1.8750, limit = 0.5081 */ 33299,
    /* Step 0x003d, peak = 1.9062, limit = 0.4997 */ 32750,
    /* Step 0x003e, peak = 1.9375, limit = 0.4916 */ 32219,
    /* Step 0x003f, peak = 1.9688, limit = 0.4838 */ 31705,
    /* Step 0x0040, peak = 2.0000, limit = 0.4762 */ 31207,
    /* Step 0x0041, peak = 2.0312, limit = 0.4688 */ 30725,
    /* Step 0x0042, peak = 2.0625, limit = 0.4617 */ 30257,
    /* Step 0x0043, peak = 2.0938, limit = 0.4548 */ 29803,
    /* Step 0x0044, peak = 2.1250, limit = 0.4481 */ 29363,
    /* Step 0x0045, peak = 2.1562, limit = 0.4415 */ 28935,
    /* Step 0x0046, peak = 2.1875, limit = 0.4352 */ 28520,
    /* Step 0x0047, peak = 2.2188, limit = 0.4290 */ 28117,
    /* Step 0x0048, peak = 2.2500, limit = 0.4231 */ 27725,
    /* Step 0x0049, peak = 2.2812, limit = 0.4172 */ 27343,
    /* Step 0x004a, peak = 2.3125, limit = 0.4116 */ 26973,
    /* Step 0x004b, peak = 2.3438, limit = 0.4061 */ 26612,
    /* Step 0x004c, peak = 2.3750, limit = 0.4007 */ 26260,
    /* Step 0x004d, peak = 2.4062, limit = 0.3955 */ 25918,
    /* Step 0x004e, peak = 2.4375, limit = 0.3904 */ 25584,
    /* Step 0x004f, peak = 2.4688, limit = 0.3854 */ 25260,
    /* Step 0x0050, peak = 2.5000, limit = 0.3806 */ 24943,
    /* Step 0x0051, peak = 2.5312, limit = 0.3759 */ 24634,
    /* Step 0x0052, peak = 2.5625, limit = 0.3713 */ 24332,
    /* Step 0x0053, peak = 2.5938, limit = 0.3668 */ 24038,
    /* Step 0x0054, peak = 2.6250, limit = 0.3624 */ 23751,
    /* Step 0x0055, peak = 2.6562, limit = 0.3582 */ 23471,
    /* Step 0x0056, peak = 2.6875, limit = 0.3540 */ 23197,
    /* Step 0x0057, peak = 2.7188, limit = 0.3499 */ 22930,
    /* Step 0x0058, peak = 2.7500, limit = 0.3459 */ 22669,
    /* Step 0x0059, peak = 2.7812, limit = 0.3420 */ 22413,
    /* Step 0x005a, peak = 2.8125, limit = 0.3382 */ 22164,
    /* Step 0x005b, peak = 2.8438, limit = 0.3345 */ 21920,
    /* Step 0x005c, peak = 2.8750, limit = 0.3308 */ 21681,
    /* Step 0x005d, peak = 2.9062, limit = 0.3273 */ 21447,
    /* Step 0x005e, peak = 2.9375, limit = 0.3238 */ 21218,
    /* Step 0x005f, peak = 2.9688, limit = 0.3204 */ 20994,
    /* Step 0x0060, peak = 3.0000, limit = 0.3170 */ 20775,
    /* Step 0x0061, peak = 3.0312, limit = 0.3137 */ 20561,
    /* Step 0x0062, peak = 3.0625, limit = 0.3105 */ 20350,
    /* Step 0x0063, peak = 3.0938, limit = 0.3074 */ 20144,
    /* Step 0x0064, peak = 3.1250, limit = 0.3043 */ 19942,
    /* Step 0x0065, peak = 3.1562, limit = 0.3013 */ 19745,
    /* Step 0x0066, peak = 3.1875, limit = 0.2983 */ 19551,
    /* Step 0x0067, peak = 3.2188, limit = 0.2954 */ 19360,
    /* Step 0x0068, peak = 3.2500, limit = 0.2926 */ 19174,
    /* Step 0x0069, peak = 3.2812, limit = 0.2898 */ 18991,
    /* Step 0x006a, peak = 3.3125, limit = 0.2871 */ 18811,
    /* Step 0x006b, peak = 3.3438, limit = 0.2844 */ 18635,
    /* Step 0x006c, peak = 3.3750, limit = 0.2817 */ 18462,
    /* Step 0x006d, peak = 3.4062, limit = 0.2791 */ 18293,
    /* Step 0x006e, peak = 3.4375, limit = 0.2766 */ 18126,
    /* Step 0x006f, peak = 3.4688, limit = 0.2741 */ 17963,
    /* Step 0x0070, peak = 3.5000, limit = 0.2717 */ 17802,
    /* Step 0x0071, peak = 3.5312, limit = 0.2692 */ 17644,
    /* Step 0x0072, peak = 3.5625, limit = 0.2669 */ 17489,
    /* Step 0x0073, peak = 3.5938, limit = 0.2646 */ 17337,
    /* Step 0x0074, peak = 3.6250, limit = 0.2623 */ 17187,
    /* Step 0x0075, peak = 3.6562, limit = 0.2600 */ 17040,
    /* Step 0x0076, peak = 3.6875, limit = 0.2578 */ 16895,
    /* Step 0x0077, peak = 3.7188, limit = 0.2556 */ 16753,
    /* Step 0x0078, peak = 3.7500, limit = 0.2535 */ 16613,
    /* Step 0x0079, peak = 3.7812, limit = 0.2514 */ 16476,
    /* Step 0x007a, peak = 3.8125, limit = 0.2494 */ 16341,
    /* Step 0x007b, peak = 3.8438, limit = 0.2473 */ 16208,
    /* Step 0x007c, peak = 3.8750, limit = 0.2453 */ 16077,
    /* Step 0x007d, peak = 3.9062, limit = 0.2434 */ 15948,
    /* Step 0x007e, peak = 3.9375, limit = 0.2414 */ 15821,
    /* Step 0x007f, peak = 3.9688, limit = 0.2395 */ 15696,
    /* Step 0x0080, peak = 4.0000, limit = 0.2376 */ 15574,
    /* Step 0x0081, peak = 4.0312, limit = 0.2358 */ 15453,
    /* Step 0x0082, peak = 4.0625, limit = 0.2340 */ 15334,
    /* Step 0x0083, peak = 4.0938, limit = 0.2322 */ 15216,
    /* Step 0x0084, peak = 4.1250, limit = 0.2304 */ 15101,
    /* Step 0x0085, peak = 4.1562, limit = 0.2287 */ 14987,
    /* Step 0x0086, peak = 4.1875, limit = 0.2270 */ 14875,
    /* Step 0x0087, peak = 4.2188, limit = 0.2253 */ 14765,
    /* Step 0x0088, peak = 4.2500, limit = 0.2237 */ 14656,
    /* Step 0x0089, peak = 4.2812, limit = 0.2220 */ 14549,
    /* Step 0x008a, peak = 4.3125, limit = 0.2204 */ 14444,
    /* Step 0x008b, peak = 4.3438, limit = 0.2188 */ 14340,
    /* Step 0x008c, peak = 4.3750, limit = 0.2173 */ 14237,
    /* Step 0x008d, peak = 4.4062, limit = 0.2157 */ 14136,
    /* Step 0x008e, peak = 4.4375, limit = 0.2142 */ 14036,
    /* Step 0x008f, peak = 4.4688, limit = 0.2127 */ 13938,
    /* Step 0x0090, peak = 4.5000, limit = 0.2112 */ 13841,
    /* Step 0x0091, peak = 4.5312, limit = 0.2098 */ 13746,
    /* Step 0x0092, peak = 4.5625, limit = 0.2083 */ 13651,
    /* Step 0x0093, peak = 4.5938, limit = 0.2069 */ 13558,
    /* Step 0x0094, peak = 4.6250, limit = 0.2055 */ 13467,
    /* Step 0x0095, peak = 4.6562, limit = 0.2041 */ 13376,
    /* Step 0x0096, peak = 4.6875, limit = 0.2028 */ 13287,
    /* Step 0x0097, peak = 4.7188, limit = 0.2014 */ 13199,
    /* Step 0x0098, peak = 4.7500, limit = 0.2001 */ 13112,
    /* Step 0x0099, peak = 4.7812, limit = 0.1988 */ 13026,
    /* Step 0x009a, peak = 4.8125, limit = 0.1975 */ 12942,
    /* Step 0x009b, peak = 4.8438, limit = 0.1962 */ 12858,
    /* Step 0x009c, peak = 4.8750, limit = 0.1950 */ 12775,
    /* Step 0x009d, peak = 4.9062, limit = 0.1937 */ 12694,
    /* Step 0x009e, peak = 4.9375, limit = 0.1925 */ 12614,
    /* Step 0x009f, peak = 4.9688, limit = 0.1913 */ 12534,
    /* Step 0x00a0, peak = 5.0000, limit = 0.1901 */ 12456,
    /* Step 0x00a1, peak = 5.0312, limit = 0.1889 */ 12378,
    /* Step 0x00a2, peak = 5.0625, limit = 0.1877 */ 12302,
    /* Step 0x00a3, peak = 5.0938, limit = 0.1866 */ 12226,
    /* Step 0x00a4, peak = 5.1250, limit = 0.1854 */ 12152,
    /* Step 0x00a5, peak = 5.1562, limit = 0.1843 */ 12078,
    /* Step 0x00a6, peak = 5.1875, limit = 0.1832 */ 12005,
    /* Step 0x00a7, peak = 5.2188, limit = 0.1821 */ 11933,
    /* Step 0x00a8, peak = 5.2500, limit = 0.1810 */ 11862,
    /* Step 0x00a9, peak = 5.2812, limit = 0.1799 */ 11792,
    /* Step 0x00aa, peak = 5.3125, limit = 0.1789 */ 11723,
    /* Step 0x00ab, peak = 5.3438, limit = 0.1778 */ 11654,
    /* Step 0x00ac, peak = 5.3750, limit = 0.1768 */ 11586,
    /* Step 0x00ad, peak = 5.4062, limit = 0.1758 */ 11519,
    /* Step 0x00ae, peak = 5.4375, limit = 0.1748 */ 11453,
    /* Step 0x00af, peak = 5.4688, limit = 0.1738 */ 11387,
    /* Step 0x00b0, peak = 5.5000, limit = 0.1728 */ 11323,
    /* Step 0x00b1, peak = 5.5312, limit = 0.1718 */ 11259,
    /* Step 0x00b2, peak = 5.5625, limit = 0.1708 */ 11195,
    /* Step 0x00b3, peak = 5.5938, limit = 0.1699 */ 11133,
    /* Step 0x00b4, peak = 5.6250, limit = 0.1689 */ 11071,
    /* Step 0x00b5, peak = 5.6562, limit = 0.1680 */ 11010,
    /* Step 0x00b6, peak = 5.6875, limit = 0.1671 */ 10949,
    /* Step 0x00b7, peak = 5.7188, limit = 0.1662 */ 10889,
    /* Step 0x00b8, peak = 5.7500, limit = 0.1653 */ 10830,
    /* Step 0x00b9, peak = 5.7812, limit = 0.1644 */ 10771,
    /* Step 0x00ba, peak = 5.8125, limit = 0.1635 */ 10713,
    /* Step 0x00bb, peak = 5.8438, limit = 0.1626 */ 10656,
    /* Step 0x00bc, peak = 5.8750, limit = 0.1617 */ 10599,
    /* Step 0x00bd, peak = 5.9062, limit = 0.1609 */ 10543,
    /* Step 0x00be, peak = 5.9375, limit = 0.1600 */ 10488,
    /* Step 0x00bf, peak = 5.9688, limit = 0.1592 */ 10433,
    /* Step 0x00c0, peak = 6.0000, limit = 0.1584 */ 10378,
    /* Step 0x00c1, peak = 6.0312, limit = 0.1576 */ 10325,
    /* Step 0x00c2, peak = 6.0625, limit = 0.1567 */ 10271,
    /* Step 0x00c3, peak = 6.0938, limit = 0.1559 */ 10219,
    /* Step 0x00c4, peak = 6.1250, limit = 0.1551 */ 10166,
    /* Step 0x00c5, peak = 6.1562, limit = 0.1544 */ 10115,
    /* Step 0x00c6, peak = 6.1875, limit = 0.1536 */ 10064,
    /* Step 0x00c7, peak = 6.2188, limit = 0.1528 */ 10013,
    /* Step 0x00c8, peak = 6.2500, limit = 0.1520 */ 9963,
    /* Step 0x00c9, peak = 6.2812, limit = 0.1513 */ 9913,
    /* Step 0x00ca, peak = 6.3125, limit = 0.1505 */ 9864,
    /* Step 0x00cb, peak = 6.3438, limit = 0.1498 */ 9816,
    /* Step 0x00cc, peak = 6.3750, limit = 0.1491 */ 9768,
    /* Step 0x00cd, peak = 6.4062, limit = 0.1483 */ 9720,
    /* Step 0x00ce, peak = 6.4375, limit = 0.1476 */ 9673,
    /* Step 0x00cf, peak = 6.4688, limit = 0.1469 */ 9626,
    /* Step 0x00d0, peak = 6.5000, limit = 0.1462 */ 9580,
    /* Step 0x00d1, peak = 6.5312, limit = 0.1455 */ 9534,
    /* Step 0x00d2, peak = 6.5625, limit = 0.1448 */ 9488,
    /* Step 0x00d3, peak = 6.5938, limit = 0.1441 */ 9443,
    /* Step 0x00d4, peak = 6.6250, limit = 0.1434 */ 9399,
    /* Step 0x00d5, peak = 6.6562, limit = 0.1428 */ 9355,
    /* Step 0x00d6, peak = 6.6875, limit = 0.1421 */ 9311,
    /* Step 0x00d7, peak = 6.7188, limit = 0.1414 */ 9268,
    /* Step 0x00d8, peak = 6.7500, limit = 0.1408 */ 9225,
    /* Step 0x00d9, peak = 6.7812, limit = 0.1401 */ 9182,
    /* Step 0x00da, peak = 6.8125, limit = 0.1395 */ 9140,
    /* Step 0x00db, peak = 6.8438, limit = 0.1388 */ 9098,
    /* Step 0x00dc, peak = 6.8750, limit = 0.1382 */ 9057,
    /* Step 0x00dd, peak = 6.9062, limit = 0.1376 */ 9016,
    /* Step 0x00de, peak = 6.9375, limit = 0.1370 */ 8975,
    /* Step 0x00df, peak = 6.9688, limit = 0.1364 */ 8935,
    /* Step 0x00e0, peak = 7.0000, limit = 0.1357 */ 8895,
    /* Step 0x00e1, peak = 7.0312, limit = 0.1351 */ 8855,
    /* Step 0x00e2, peak = 7.0625, limit = 0.1345 */ 8816,
    /* Step 0x00e3, peak = 7.0938, limit = 0.1339 */ 8777,
    /* Step 0x00e4, peak = 7.1250, limit = 0.1334 */ 8739,
    /* Step 0x00e5, peak = 7.1562, limit = 0.1328 */ 8701,
    /* Step 0x00e6, peak = 7.1875, limit = 0.1322 */ 8663,
    /* Step 0x00e7, peak = 7.2188, limit = 0.1316 */ 8625,
    /* Step 0x00e8, peak = 7.2500, limit = 0.1311 */ 8588,
    /* Step 0x00e9, peak = 7.2812, limit = 0.1305 */ 8551,
    /* Step 0x00ea, peak = 7.3125, limit = 0.1299 */ 8515,
    /* Step 0x00eb, peak = 7.3438, limit = 0.1294 */ 8478,
    /* Step 0x00ec, peak = 7.3750, limit = 0.1288 */ 8442,
    /* Step 0x00ed, peak = 7.4062, limit = 0.1283 */ 8407,
    /* Step 0x00ee, peak = 7.4375, limit = 0.1278 */ 8371,
    /* Step 0x00ef, peak = 7.4688, limit = 0.1272 */ 8336,
    /* Step 0x00f0, peak = 7.5000, limit = 0.1267 */ 8302,
    /* Step 0x00f1, peak = 7.5312, limit = 0.1262 */ 8267,
    /* Step 0x00f2, peak = 7.5625, limit = 0.1256 */ 8233,
    /* Step 0x00f3, peak = 7.5938, limit = 0.1251 */ 8199,
    /* Step 0x00f4, peak = 7.6250, limit = 0.1246 */ 8166,
    /* Step 0x00f5, peak = 7.6562, limit = 0.1241 */ 8132,
    /* Step 0x00f6, peak = 7.6875, limit = 0.1236 */ 8099,
    /* Step 0x00f7, peak = 7.7188, limit = 0.1231 */ 8066,
    /* Step 0x00f8, peak = 7.7500, limit = 0.1226 */ 8034,
    /* Step 0x00f9, peak = 7.7812, limit = 0.1221 */ 8002,
    /* Step 0x00fa, peak = 7.8125, limit = 0.1216 */ 7969,
    /* Step 0x00fb, peak = 7.8438, limit = 0.1211 */ 7938,
    /* Step 0x00fc, peak = 7.8750, limit = 0.1207 */ 7906,
    /* Step 0x00fd, peak = 7.9062, limit = 0.1202 */ 7875,
    /* Step 0x00fe, peak = 7.9375, limit = 0.1197 */ 7844,
    /* Step 0x00ff, peak = 7.9688, limit = 0.1192 */ 7813,
};
